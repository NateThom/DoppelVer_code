# DoppelVer: A Benchmark for Face Verification

![DoppelVer Dataset](dataset_image.jpg)

## Table of Contents

- [Overview](#overview)
- [Dataset Details](#dataset-details)
- [Data Description](#data-description)
- [Dataset Structure](#dataset-structure)
- [Usage](#usage)
- [Citation](#citation)
- [License](#license)

## Overview

The **DoppelVer** dataset is a benchmark dataset designed for evaluating and advancing face verification and recognition algorithms. This dataset contains a diverse collection of facial images from various sources, making it suitable for a wide range of face-related computer vision tasks.

This README file provides essential information about the dataset, its structure, and instructions on how to use it.

## Dataset Details

- **Dataset Name**: DoppelVer: A Benchmark for Face Verification
- **Version**: 1.0
- **Release Date**: [Insert Release Date]
- **Number of Subjects**: [Insert Number of Subjects]
- **Number of Images**: [Insert Total Number of Images]
- **File Format**: [Specify the file format used, e.g., JPEG, PNG]

## Data Description

The DoppelVer dataset includes the following features and attributes:

- [Insert Key Feature 1]: Description of key feature 1.
- [Insert Key Feature 2]: Description of key feature 2.
- [Insert Key Feature 3]: Description of key feature 3.
- [Insert Any Additional Features]: Describe any other relevant attributes or features.

## Dataset Structure

The dataset is organized as follows:

SETUP TO RUN CODE TO CREATE OUR DATASET FROM SCRATCH(May contain different images, and will be different protocol(same structure)):
1. Download conda
2. Create conda enviroment
3. Follow list of downloads to get all needed packages
4. Create a folder(this will be where all datasets will be stored as well as all csvs)
5. put doppelgangerPairs.csv and IndividualGenderCountryOrigin.csv into that folder
6. update datasets_save_location variable inside controller.py to be the path from home to the folder you created
7. update number_of_images_to_download variable inside controller.py to be the number of base images you want to download for each individiual



The provided code will 
1. collect data given a list of names
2. convert the collected images into headshots
3. remove duplicates(this part is manual, and will also need a manual look over the whole collected dataset to remove bad images)
4. create the doppelganger protocol, with splits
5. create the ViSE protocol, with the same individuals in the same splits
6. allow for easy access of the data through prewritten dataloaders, in pytorch, tensorflow and hugging face

To run each section of code
1. Collecting data:

    To run this code you need to provide a list of names to collect, a number of images to collect for each name, and a save path location

    The output of this code will be a folder for each name, containing the number of images you declared, in the save path location

2. Covert downloaded images, into CCA images(1 downloaded image can become multiple CCA images):

    To run this code you need to provide the save location of the downloaded images, and the desired save location of the CCA images

    The output of this code will be a new folder containing one folder for each individual, with the number of images being the number of faces found in the original images, the name of these new images will be, id_of_original_image_id_of_face_found.jpg, or XXX_XX.jpg, where XXX is the id of the original image, and XX is id of face found in the original image

3. Remove duplicates:

    To run this code you need to provide the save location of the CCA images

    The code will find images that are near each other(look similar) and ask if the two images it shows are the same/mirrored/off color, if its any of these three it will delete one and continue, after this step manually go through all images and remove an images that dont belong in the folder they exist in

4. Creating the Doppelganger protocol:

    This code requires the save location of the cleaned CCA images, a list of doppelganger pairs, and a list of each name and their gender

    This code outputs a list of samples, where each sample is in the form of, name 1, image 1, name 2, image 2, label, split. Label is 0 if name1 and name2 are different and 1 if they are the same. Split represnets which cross validation split that sample belongs to, this can be numbers 0-9, and each split is identity unique, so if an identity shows up in one split it will not show up in any other splits

5. Creating the ViSE protocol:

    This code requires the save location of the cleaned CCA images, and a completed Doppelganger protocol with the name doppelgangerProtocol.csv
    
    This code outputs a list of samples in the same form as the Doppelganger protocol, however the negative samples were generated by finding images with minimum distance between them(visually similar images)
    
6. Dataloaders:

    This code requires the dataset, one of the protocols, and a number of the desired framework(PyTorch, TensorFlow, HuggingFace)

    This code outputs 2 images and a label for each instance its called, these images and labels are drawn from a sample in the current split, during training no images will be drawn from the test split, during testing only images will be drawn from the test split
